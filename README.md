# Как этим пользоваться

Добро пожаловать, путник!

Земля тебе пухом, если приходится смотреть это. 

Итак, как этим чудом пользоваться:

**Шаг первый**: создайте папку ```data``` в корне проекта и положите туда 4 своих файла с измерениями (ну или просто в корень проекта, хотя тогда нельзя будет обновить репозиторий командой ```git fetch```, т.к папка ```data``` включена в ```.gitignore```).

**Шаг второй**: установите нужные зависимости из файла ```requirements.txt``` следующией командой:

```pip[3] install -r requirements.txt```

Сразу поясню - важное условие: ```python>=3.6``` . В некоторых системах у питона (соответственно и у pip) может быть разный алиас - либо ```python```, либо ```python3``` (для pip аналогично), поэтому я буду писать ```python[3]``` и  ```pip[3]```.

**Шаг третий**: запустите следующую команду для файлов **первых двух** выборок.

```python[3] delete_misses.py --file_name <путь_до_файла>.txt --norm_data [--use_dip_test --bin_compute_type f1]```

Аргумент в ```[]``` не обязателен, плюс он полноценно и не работает (ЕГО ПИСАТЬ ТОЖЕ НЕ НУЖНО, КВАДРАТНЫЕ СКОБОЧКИ ТОЖЕ!) :-)

**UPD**: ```<>``` ПИСАТЬ НЕ НУЖНО!

Вообще DIP test - проверка распределния на унимодальность, если интересно - можете загуглить.

Этот скрипт:

* считает статистики по сырой выборке;
* рисует гистограмму по сырой выборке;
* удаляет промахи по правилу трех сигм (да, да, по идее оно работает только для нормального распределения, по как-то плевать, т.к предложеный тест Граббса для таких больших выборок не рассчитан);
* выводит статистику по новой выборке;
* рисует гистограмму подчищенной выборки для выбранной гипотезы;
* считает кол-во бинов по формуле math.ceil(log_2(n)) + 1;
* выводит минимальное, максимальное, рассчетное значение хи-квадрат;
* если есть флаг ```--norm_data``` (а он **должен быть** для первых двух файлов), создается файл ```<путь_до_вашего_файла>.txt.new.norm```, в котором лежит отнормированная функция распределения (без понятия, почему в лабе это называется **НОРМАЛИЗАЦИЯ**)(см. **UPD2**);
* считается ```k```;
* флаг ```--bin_compute_type``` отвечает за разные типы рассчета кол-ва интервалов для гистограммы:
  * f1 - критерий Старджеса, log_2(n) + 1;
  * f2 - критерий Брукса и Каррузера, 5 * log_10(n);
  * f3 - критерий Хайнхольда и Гаеде, sqrt(n);

**UPD2**: Весь прошлый текст - ложь, пиздеж и провокация. Путем совещания (спасибо Дену) выяснилось, что в лабе под нормализацией подразумевается создание функции распределения и её нормализация (если не ясно - прогоните пункт 1 снова и посмотрите файл с расширением .norm ).

**Шаг четвертый**: для оставшихся двух файлов запустите команду:

```python[3] delete_misses.py --file_name <путь_до_файла>.txt [--use_dip_test --bin_compute_type f1]```

Если у вас в каком-то из файлов хи-квадрат попадает в диапазон, делайте пункры по лабе.

Если нет - удачи :-)

**Шаг пятый**: Для теста Колмогорова-Смирнова выполните команду:

```python[3] kolmogorov_smirnov_statistic.py <путь_до_первого_файла>.txt.new.norm <путь_до_первого_файла>.txt.new.norm <путь_до_второго_файла>.txt.new.norm```

Путем опять же обсуждения было получено, что код, который нам дали - хуйня (никогда такого не было, и вот опять) и вообще проще считать значение KS теста руками.

Должно вывестить одно значение - это и будет нужная статистика. Если она меньше 0.05, то мы принимаем гипотезу и говорим что распределения равны, если больше - нет.

**ВАЖНОЕ УТОЧНЕНИЕ**: я так и до конца не уверен в этом подходе, поэтому можете на досуге сами подумать.